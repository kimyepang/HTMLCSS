
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		*{margin: 0;padding: 0;}
		body{color: #fff;background: #111;}
		#parallax{overflow: hidden;}
		.item{position: relative;height: 100vh;display: flex;justify-content: center;align-items: center;}
		section:nth-child(2n){background: #222;}
		.num{position: absolute;right: 20px;bottom: 20px;font-size: 5vw;}
		.item_img{width: 10vw;height: 10vw;background-size: cover;background-position: center;margin: 1vw;}
		#section1 .item_img{background-image: url(https://cdn.pixabay.com/photo/2024/02/05/10/48/bird-8554204_1280.jpg);}
		#section2 .item_img{background-image: url(https://cdn.pixabay.com/photo/2024/02/05/10/48/bird-8554204_1280.jpg);}
		#section3 .item_img{background-image: url(https://cdn.pixabay.com/photo/2024/02/05/10/48/bird-8554204_1280.jpg);width: 100px;height: 100px;border-radius: 50px;}
		#section4 .item_img{background-image: url(https://cdn.pixabay.com/photo/2024/03/21/14/36/forest-8647829_1280.jpg);}
		#section8 .item_img{background-image: url(https://cdn.pixabay.com/photo/2018/01/14/23/12/nature-3082832_1280.jpg);}
		#section9 .item_img{background-image: url(https://cdn.pixabay.com/photo/2013/10/09/02/27/lake-192990_1280.jpg); border-radius: 50%;}
		.item_text{font-size: 5vw;}
		#section7 .item_text{position: absolute;left: 50%;top: 50%;transform: translate(-50%,-50%);background: #111;padding: 30px;text-align: center;width: 100%;opacity: 0;}
		#section5,#section8{flex-direction: column;}
	</style>
</head>
<body>
	<main id="parallax">
		<section id="section1" class="item">
			<div class="num">01</div>
			<div class="item_img"></div>
		</section>
		<section id="section2" class="item">
			<div class="num">02</div>
			<div class="item_img i1"></div>
			<div class="item_img i2"></div>
			<div class="item_img i3"></div>
		</section>
		<section id="section3" class="item">
			<div class="num">03</div>
			<div class="item_img"></div>
			<div class="item_img"></div>
			<div class="item_img"></div>
			<div class="item_img"></div>
			<div class="item_img"></div>
			<div class="item_img"></div>
		</section>
		<section id="section4" class="item">
			<div class="num">04</div>
			<div class="item_img"></div>
		</section>
		<section id="section5" class="item">
			<div class="num">05</div>
			<div class="item_text t1">section5</div>
			<div class="item_text t2">section5</div>
			<div class="item_text t3">section5</div>
			<div class="item_text t4">section5</div>
		</section>
		<section id="section6" class="item">
			<div class="num">06</div>
			<div class="item_text">section6</div>
		</section>
		<section id="section7" class="item">
			<div class="num">07</div>
			<div class="item_text t1">코딩이란</div>
			<div class="item_text t2">프로그래밍 코드를</div>
			<div class="item_text t3">어딘가에</div>
			<div class="item_text t4">적는것을 말한다</div>
			<div class="item_text t5">코딩은</div>
			<div class="item_text t6">누구라</div>
			<div class="item_text t7">할 수 있다</div>
		</section>
		<section id="section8" class="item">
			<div class="num">08</div>
			<div class="item_text t1">section8 title1</div>
			<div class="item_text t2">section8 title2</div>
			<div class="item_text t3">section8 title3</div>
			<div class="item_img i1"></div>
		</section>
		<section id="section9" class="item">
			<div class="num">09</div>
			<div class="item_img i1"></div>
		</section>
	</main>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script>
    const ani1 = gsap.timeline(); //직전 애니메이션 끝날 때까지 대기하고 있다가 다음 애니메이션 알아서 실행 (두개가 만나)
    ani1.to("#section1 .item_img",{ //to는 지정한 애니메이션으로 종료, from은 원래값으로 종료
      rotation:720,
      scale: 0,
      borderRadius: 200,
    }).to("#section1 .item_img",{
      rotation:0,
      scale: 1,
      borderRadius: 20,
    });
    ScrollTrigger.create({
      animation: ani1,
      trigger: "section1", //스크롤트리거의 시작과끝 위치가 start end다
      start: "top top", //섹션의탑, 전체화면(스크롤)의탑 (두개가 만나야 애니메이션 실행) 
      end:"+=2000", //섹션end가 스크롤end와 만나면 끝나는데, 2000같은 값을 주면 스크롤을 더 오래 함
      pin: true, //현재 화면에 고정해서 애니메이션 진행
      anticipatePin: 1, //고정을 지연없이 자연스럽게
      scrub: true,
      id:"box1",
    });

    const ani2 = gsap.timeline(); 
    ani2.from("#section2 .i1",{
      y:-100,
      autoAlpha:0, //opacity 0
      borderRadius: 20,
    }).from("#section2 .i2",{
      y:100,
      autoAlpha:0,
      borderRadius: 20,
    }).from("#section2 .i3",{
      y:-100,
      autoAlpha:0,
      borderRadius: 20,
    })
    ;
    ScrollTrigger.create({
      animation: ani2,
      trigger: "section2",
      pin:true,
      anticipatePin: 1, 
      scrub: true,
      id:"box1",
    });

    const ani3 = gsap.timeline(); 
    ani3.from("#section3 .item_img",{
     y:-100,
     opcity: 0,
     stagger:{
      amount:3, //시간
      from:"random",
     }
    });
    ScrollTrigger.create({
      animation: ani3,
      trigger: "section3",
      pin:true,
      anticipatePin: 1, 
      scrub: 1,
      id:"box1",
    });

    const ani4 = gsap.timeline(); 
    ani4.from("#section4 .item_img",{
     scale:5,
     width: "100vw",
     height: "100vh",
    });
    ScrollTrigger.create({
      animation: ani4,
      trigger: "section4",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1, 
    });

    const ani5 = gsap.timeline(); 
    ani5.from("#section5 .t1",{
     xPercent:300,
    },"txt").from("#section5 .t2",{ //txt는 별의미는없고, 동일한문자여서 (대기하지말고-원래속성은 기다렸다가 시작) 동시에 시작하라는 뜻
     xPercent:-300,
    },"txt").from("#section5 .t3",{
     xPercent:300,
    },"txt").from("#section5 .t4",{
     xPercent:-300,
    },"txt").from("#section5 .t5",{
     xPercent:300,
    },"txt");
    ScrollTrigger.create({
      animation: ani5,
      trigger: "section5",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1, 
    });

    const ani6 = gsap.timeline(); 
    ani6.to("#section6 .item_text",{ //끝이 60배로 커진 상태니까 to
     scale:60,
    }).to("#section6 .item_text", {
      opacity:0,
    });
    ScrollTrigger.create({
      animation: ani6,
      trigger: "section6",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1,
    });

    const ani7 = gsap.timeline({
      defaults:{scale:0, opacity:1} //공통속성은 defaults에 적으면 됨
    }); 
    ani7.from("#section7 .t1",{ //원래 갖고있던 속성인 opacity 0으로 끝나기 때문에 from
    }).from("#section7 .t2",{
    }).from("#section7 .t3",{
    }).from("#section7 .t4",{
    }).from("#section7 .t5",{
    }).from("#section7 .t6",{
    }).from("#section7 .t7",{
    });
    ScrollTrigger.create({
      animation: ani7,
      trigger: "section7",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1,
    });

    const ani8 = gsap.timeline(); 
    ani8.from("#section8 .t1",{ //원래 갖고있던 속성인 opacity 0으로 끝나기 때문에 from
      x:innerWidth * 1
    }).from("#section8 .t2",{
      x:innerWidth * -1
    }).from("#section8 .t3",{
      x:innerWidth * 1
    }).from("#section8 .i1",{
      x:innerWidth * 1,
      rotation: 360,
      scale: 5,
    });
    ScrollTrigger.create({
      animation: ani8,
      trigger: "section8",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1,
    });

    const ani9 = gsap.timeline(); 
    ani8.from("#section9 .i1",{ //원래 갖고있던 속성인 opacity 0으로 끝나기 때문에 from
     scale:20,
    });
    ScrollTrigger.create({
      animation: ani9,
      trigger: "section9",
      pin:true,
      scrub: 1,
      id:"box1",
      anticipatePin: 1,
    });
  </script>
</body>
</html>
